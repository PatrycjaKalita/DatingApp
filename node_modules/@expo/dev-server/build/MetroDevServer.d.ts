/// <reference types="expo__bunyan" />
/// <reference types="node" />
import type Log from '@expo/bunyan';
import { ExpoConfig } from '@expo/config';
import * as ExpoMetroConfig from '@expo/metro-config';
import http from 'http';
import type Metro from 'metro';
export declare type MetroDevServerOptions = ExpoMetroConfig.LoadOptions & {
    logger: Log;
    quiet?: boolean;
};
export declare type BundleOptions = {
    entryPoint: string;
    platform: 'android' | 'ios' | 'web';
    dev?: boolean;
    minify?: boolean;
    sourceMapUrl?: string;
};
export declare type BundleAssetWithFileHashes = Metro.AssetData & {
    fileHashes: string[];
};
export declare type BundleOutput = {
    code: string;
    map: string;
    hermesBytecodeBundle?: Uint8Array;
    hermesSourcemap?: string;
    assets: readonly BundleAssetWithFileHashes[];
};
export declare type MessageSocket = {
    broadcast: (method: string, params?: Record<string, any> | undefined) => void;
};
export declare function runMetroDevServerAsync(projectRoot: string, options: MetroDevServerOptions): Promise<{
    server: http.Server;
    middleware: any;
    messageSocket: MessageSocket;
}>;
export declare function bundleAsync(projectRoot: string, expoConfig: ExpoConfig, options: MetroDevServerOptions, bundles: BundleOptions[]): Promise<BundleOutput[]>;
